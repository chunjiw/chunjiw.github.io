<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/highlight/github.min.css"> <link rel=stylesheet  href="/css/fonts.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/basic.css"> <link rel=stylesheet  href="/css/orca.css"> <link rel=icon  href="/assets/favicon.svg"> <title>Add a customized font to your Franklin website</title> <header> <div class=blog-name ><a href="/">Chunji Wang</a></div> <nav> <ul> <li><a href="/chinese/">中文</a> <li><a href="/english/">English</a> <li><a href="/about/">About</a> </ul> <img src="/assets/hamburger.svg" id=menu-icon > </nav> </header> <h2 class=franklin-content  style="text-align:center">Add a customized font to your Franklin website</h2> <p class=franklin-content  style="text-align:right">Sep 16, 2021</p> <div class=franklin-content ><h2 id=foreword ><a href="#foreword" class=header-anchor >Foreword</a></h2> <p>You probably want to use a customized font for your website eventually. I have Chinese content on this site, and I <a href="/chinese/fall-of-kai-font">don&#39;t like</a> the default font for Chinese, so I have to use a customized one.</p> <p>This can be achieved using web font, e.g. a font from Google font. For concern of the availability of Google in mainland China, I decided to skip Google and use my own.</p> <p>Here I show how to do it for a <a href="https://franklinjl.org">Franklin</a> site, but it is easy to adapt to your specific SSG.</p> <h2 id=obtain_your_font ><a href="#obtain_your_font" class=header-anchor >Obtain your font</a></h2> <p>Search and download some free font. If you design your own font, then you probably will not learn anything new here.</p> <p>I downloaded a &quot;True Type&quot; font from <a href="https://chinesefonts.org/fonts/fzfangsong-z02s-regular">here</a>; it is a single file with extention <code>.ttf</code>. Many articles online recommand <a href="https://www.fontsquirrel.com/tools/webfont-generator">this</a> webfont generator from <a href="https://www.fontsquirrel.com/">Font Squirrel</a> to convert format and generate css; it is very convienient, but I found it removing the Chinese font in my font file, only keeping the English alphabet. Maybe I didn&#39;t use the correct setting. Check <a href="https://www.w3schools.com/cssref/css3_pr_font-face_rule.asp">here</a> to decide what format you want to use.</p> <p>Put the file in <code>_css</code> folder.</p> <h2 id=css_font-face ><a href="#css_font-face" class=header-anchor >CSS @font-face</a></h2> <p>Create a file <code>fonts.css</code> in <code>_css</code> folder with this content:</p> <pre><code class="css hljs"><span class=hljs-keyword >@font-face</span> {
    <span class=hljs-attribute >font-family</span>: fzfangsong-z02sregular;
    <span class=hljs-attribute >src</span>: <span class=hljs-built_in >url</span>(<span class=hljs-string >fzfangsong-z02sregular.ttf</span>) <span class=hljs-built_in >format</span>(<span class=hljs-string >&#x27;truetype&#x27;</span>);
}</code></pre> <p>It&#39;s not necessary to put quotes around the file name in <code>url&#40;&#41;</code>. In fact it is better if you don&#39;t, which forces you not to have spaces in the file name. If you have spaces in the file name and you put quotes around it like <code>url&#40;&#39;my font.fft&#39;&#41;</code>, then your site would be rendered correctly locally, but not after Github action, because Github action somehow removes the quote marks and the font file would not be loaded.</p> <p>I found this out after hours of wrestling with my code. I eventually discovered the difference by checking the site sources with the browser&#39;s &quot;inspect&quot; feature.</p> <p>This new file has to be added to template layout. Locate <code>_layout/head.html</code> and add this line to the file:</p> <pre><code class="html hljs"><span class=hljs-tag >&lt;<span class=hljs-name >link</span> <span class=hljs-attr >rel</span>=<span class=hljs-string >&quot;stylesheet&quot;</span> <span class=hljs-attr >href</span>=<span class=hljs-string >&quot;/css/fonts.css&quot;</span>&gt;</span></code></pre>
<h2 id=use_the_new_font ><a href="#use_the_new_font" class=header-anchor >Use the new font</a></h2>
<p>Use the new font by referring to it in other css files. I added it to <code>franklin.css</code>:</p>
<pre><code class="css hljs"><span class=hljs-selector-tag >html</span> {
    <span class=hljs-attribute >font-family</span>: Helvetica, Arial, sans-serif, fzfangsong-z02sregular;
    ...
}</code></pre>
<p>That&#39;s all there is to it&#33;</p>
<div class=page-foot >
  <div class=copyright >
    &copy; Chunji Wang. Built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a>.
  </div>
</div>
</div>